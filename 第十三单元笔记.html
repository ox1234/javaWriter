<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.12.3 (455521)"/><meta name="author" content="923435274@qq.com"/><meta name="created" content="2017-08-25 01:04:16 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-08-29 00:28:34 +0000"/><title>第十三单元笔记</title></head><body>


<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>今日小结</h1>
  </td></tr>
</table>
<div>掌握异常的：</div><div>1、五个关键字：try，catch，finally，throw，throws</div><div>2、异常体系的两个继承结构：</div><div><span>    <span>    1、Throwable类有两个子类（Error和Exception）</span></span><br/></div><div><span><span><span>    <span>    2、Exception类有一个子类（RuntimeException）</span></span><br/></span></span></div><div><span><span><span><span><span>    <span>    <span>    <span>    RuntimeException类及其子类称之为：runtime异常</span></span></span></span><br/></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span>    <span>    <span>    <span>    Exception类和子类中（除了RuntimeException体系）：checked异常</span></span></span></span><br/></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>3、定义异常类</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><hr/>面试题：</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>1、Error和Exception的区别和关系</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>2、checked异常和runtime异常的区别</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>3、如何保证一段代码必须执行到（finally）</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>4、finally中的代码一定会执行吗</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>5、finally和return的执行顺序（关注finally里面的两道题）</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>6、throw和throws的区别</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>7、列举5个常见的异常类</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span>8、列举5个常见的Runtime异常类</span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><hr/><span>ArithmeticException：算数异常</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span>NullPointerException：空指针异常</span></span></span></span></span></span></span></span></span></span></span></span></span></div><div>ArrayIndexOutOfBoundsException：数组越界异常</div><div>StringIndexOutOfBoundsException：字符越界异常</div><div>NumberFormatException：数字格式化异常</div><div>ClassCastException：强制类型转换异常</div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>处理异常的原则</h1>
  </td></tr>
</table>
<div>处理异常的原则：</div><div>1、异常只能用于非正常情况，try-catch的存在也会影响性能</div><div>2、需要为异常提供说明文档，比如java doc，如果自定义了异常，或某个方法抛出了异常，我们应该记录在文档注释中</div><div>3、尽可能避免异常</div><div>4、异常粒度很重要，英国为一个基本操作定义一个try-catch块，不要为了简便，将几百行代码放到一个try-catch块中</div><div>5、不建议在循环中进行异常处理，应该在循环外兑异常进行捕获处理</div><div>6、自定义异常尽量使用RuntimeExcepiton类型的</div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>java7种处理异常的新特性</h1>
  </td></tr>
</table>
<div>Android用不到java7，支持java5／java6的语法</div><div><hr/>1、增强的throw</div><div>2、多异常捕获</div><div>3、自动资源关闭</div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>异常转译和异常链</h1>
  </td></tr>
</table>
<div>异常转译：党位于最上层的子系统不需要关心底层的异常细节时，常见的做法是捕获原始的异常，把它作为一个新的不同类型的异常，再抛出新的异常</div><div>异常链：把院士的异常包装位新的异常类，从而形成多个异常的有序排列，有助于查找自身异常的根本原因</div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>异常机制的优势</h1>
  </td></tr>
</table>
<div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it._05_exception_class;</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//车坏了的异常</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> CarWrongException </span><span style="font: 11.0px Monaco; color: #931a68;">extends</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">final</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">long</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #0326cc;">serialVersionUID</span><span style="font: 11.0px Monaco;"> = 1L;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"> CarWrongException(String </span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">, Throwable </span><span style="font: 11.0px Monaco; color: #7e504f;">cause</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">super</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">, </span><span style="font: 11.0px Monaco; color: #7e504f;">cause</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"> CarWrongException(String </span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">super</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//上班迟到异常</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> LateException </span><span style="font: 11.0px Monaco; color: #931a68;">extends</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">final</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">long</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #0326cc;">serialVersionUID</span><span style="font: 11.0px Monaco;"> = 1L;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"> LateException(String </span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">, Throwable </span><span style="font: 11.0px Monaco; color: #7e504f;">cause</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">super</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">, </span><span style="font: 11.0px Monaco; color: #7e504f;">cause</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"> LateException(String </span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">super</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//车</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> Car{</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> run() </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> CarWrongException{</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">=1;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">if</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">==2){</span><span style="font: 11.0px Monaco; color: #4e9072;">//爆胎了</span><span style="font: 11.0px Monaco; color: #931a68;">throw</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> CarWrongException(</span><span style="font: 11.0px Monaco; color: #3933ff;">"车爆胎了"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"开着车区上班"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//上班的人</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> Worker{</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"> Car </span><span style="font: 11.0px Monaco; color: #0326cc;">car</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">null</span><span style="font: 11.0px Monaco;">;</span></div><div><br/></div><div><span style="font: 11.0px Monaco;">Worker(Car </span><span style="font: 11.0px Monaco; color: #7e504f;">car</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">this</span><span style="font: 11.0px Monaco;">.</span><span style="font: 11.0px Monaco; color: #0326cc;">car</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #7e504f;">car</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> gotoWork() </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> LateException{</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco; color: #0326cc;">car</span><span style="font: 11.0px Monaco;">.run();</span><span style="font: 11.0px Monaco; color: #4e9072;">//正常开车去上班</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"好开心"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;">(CarWrongException </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">.printStackTrace();</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//车坏了，出现异常</span><span style="font: 11.0px Monaco; color: #931a68;">this</span><span style="font: 11.0px Monaco;">.walk();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">throw</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> LateException(</span><span style="font: 11.0px Monaco; color: #3933ff;">"迟到的原因"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">.getMessage(),</span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> walk() {</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"走路上班"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;">  </span><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> WhyDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco;">Car </span><span style="font: 11.0px Monaco; color: #7e504f;">c</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Car();</span></div><div><span style="font: 11.0px Monaco;">Worker </span><span style="font: 11.0px Monaco; color: #7e504f;">worker</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Worker(</span><span style="font: 11.0px Monaco; color: #7e504f;">c</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">worker</span><span style="font: 11.0px Monaco;">.gotoWork();</span></div><div><span style="font: 11.0px Monaco;">}</span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;">(LateException </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">.printStackTrace();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>自定义异常类</h1>
  </td></tr>
</table>
<div>为什么需要自定义异常类：</div><div>    我们说了java中不同的异常类，分别表示着某一种具体的异常情况，那么在开发中总是有些异常情况时SUN没有定义好的，此时我们根据自己业务的异常情况来定义异常类</div><div><br/></div><div>什么是自定义异常类：在开发中根据自己的业务情况定义异常类</div><div>    自定义一个业务伙计异常：logicException</div><div>异常类如何定义：</div><div>        方式一：1、自定义一个受检查的异常类：自定义类，并继承于java.lang.Exception</div><div>        方式二：2、自定义一个运行时期的异常类：自定义类，并继承于java.lang.RuntimeException</div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it._05_exception_class;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> RegisterDemo {</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//模拟数据库中已经存在的账号</span><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"> String[] </span><span style="font: 11.0px Monaco; color: #0326cc;">names</span><span style="font: 11.0px Monaco;">={</span><span style="font: 11.0px Monaco; color: #3933ff;">"Will"</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"Lucy"</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"Lily"</span><span style="font: 11.0px Monaco;">};</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//可能出现异常的代码</span></div><div><span style="font: 11.0px Monaco;">checkUsername(</span><span style="font: 11.0px Monaco; color: #3933ff;">"Will"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"注册成功"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;">(LogicException </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//处理异常</span></div><div><span style="font: 11.0px Monaco;">String </span><span style="font: 11.0px Monaco; color: #7e504f;">errorMsg</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">.getMessage();</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">errorMsg</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//判断当前注册账号是否存在</span><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">boolean</span><span style="font: 11.0px Monaco;"> checkUsername(String </span><span style="font: 11.0px Monaco; color: #7e504f;">usernamename</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;">(String </span><span style="font: 11.0px Monaco; color: #7e504f;">name</span><span style="font: 11.0px Monaco;">:</span><span style="font: 11.0px Monaco; color: #0326cc;">names</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">if</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">name</span><span style="font: 11.0px Monaco;">.equals(</span><span style="font: 11.0px Monaco; color: #7e504f;">usernamename</span><span style="font: 11.0px Monaco;">)){</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">throw</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> LogicException(</span><span style="font: 11.0px Monaco; color: #3933ff;">"亲，"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">name</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #3933ff;">"已经被注册了"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">return</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">true</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it._05_exception_class;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//业务逻辑异常</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> LogicException </span><span style="font: 11.0px Monaco; color: #931a68;">extends</span><span style="font: 11.0px Monaco;"> RuntimeException{</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">final</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">long</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #0326cc;">serialVersionUID</span><span style="font: 11.0px Monaco;"> = 1L;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"> LogicException() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">super</span><span style="font: 11.0px Monaco;">();</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">// </span><span style="font: 11.0px Monaco; color: #91afcb;">TODO</span><span style="font: 11.0px Monaco; color: #4e9072;"> Auto-generated constructor stub</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #4f76cb;">/**</span></div><div><span style="font: 11.0px Monaco; color: #4f76cb;"> * </span></div><div><span style="font: 11.0px Monaco; color: #4f76cb;"> * </span><span style="font: 11.0px Monaco; color: #91afcb;">@param</span><span style="font: 11.0px Monaco; color: #4f76cb;"> message 当前异常的原因</span></div><div><span style="font: 11.0px Monaco; color: #4f76cb;"> * </span><span style="font: 11.0px Monaco; color: #91afcb;">@param</span><span style="font: 11.0px Monaco; color: #4f76cb;"> cause 当前异常的根本原因</span></div><div><span style="font: 11.0px Monaco; color: #4f76cb;"> */</span><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"> LogicException(String </span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">, Throwable </span><span style="font: 11.0px Monaco; color: #7e504f;">cause</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">super</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">, </span><span style="font: 11.0px Monaco; color: #7e504f;">cause</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">// </span><span style="font: 11.0px Monaco; color: #91afcb;">TODO</span><span style="font: 11.0px Monaco; color: #4e9072;"> Auto-generated constructor stub</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"> LogicException(String </span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">super</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">message</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">// </span><span style="font: 11.0px Monaco; color: #91afcb;">TODO</span><span style="font: 11.0px Monaco; color: #4e9072;"> Auto-generated constructor stub</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><br/></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>声明抛出异常-throws语句</h1>
  </td></tr>
</table>
<table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>声明抛出异常-throws语句</h1></td></tr></table><div>如果每一个方法都放弃处理异常，都直接通过throws声明抛出，最后异常会抛到main方法，如果此时main方法不处理，继续抛出给JVM，底层的处理机制就是打印异常的跟踪栈信息</div><div><hr/>runtime异常，默认就是这种方式</div><div><hr/>方法的覆盖：</div><div><span>    一同：方法签名必须相同</span><br/></div><div><span><span>    两小：</span><br/></span></div><div><span><span><span>    <span>    1、子类方法的返回类型和父类方法返回类型相同，或是其子类</span></span><br/></span></span></div><div><span>    <span>    2、子类方法不能声明抛出新的异常</span></span><br/></div><div><span><span><span>    一大：</span></span></span></div><div><span><span><span><span>    <span>    </span></span>子类方法的j访问权限必须大于等于父类方法的访问权限</span><br/></span></span></div><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tr><td><h1>返回错误结果-throw语句</h1></td></tr></table><div>抛出异常：</div><div>    throw：运用于方法内部，用于给调用者返回一个异常对象，和return一样会结束当前方法</div><div>    throws：运用于方法声明之上，用于表示当前方法不处理异常，而是提醒该方法的调用者来处理异常（抛出异常）</div><div>    如：<span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"> divide(</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">num1</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">num2</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception</span></div><hr/><div>throw语句：</div><div>运用于方法内部，排除一个具体的异常对象</div><div>        throw new 异常类(“异常信息”)；</div><hr/><div>throw：</div><div>    一般的，当一个方法出现不正常的情况的时候，我们不知道该方法应该返回什么，此时就返回一个错误，在catch语句块中继续向上抛出异常</div><div>    return是返回一个值，throw是返回一个错误，返回给该方法的调用者</div><div><br/></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>异常的分类（编译异常和运行异常）</h1>
  </td></tr>
</table>
<div>异常(Exception)的分类：根据在编译时期还是在运行时期去检查异常？</div><div><b>1、编译时期异常</b>：checked异常，在编译时期，就会检查，如果没有处理异常则编译失败</div><div><b>2、运行时期异常</b>：runtime异常，在运行时期，检查异常，在编译时期，运行异常不会编译期检测（不报错）</div><div>        运行异常：在编译时期，可处理，可不处理</div><div><hr/>如何确定某一个异常类是编译异常还是运行异</div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>保证关闭资源的finally代码块</h1>
  </td></tr>
</table>
<div>finally语句块表示最终都会执行的代码，无论有没有异常</div><hr/><div>finally的两种语法：</div><div>1、try-finally：此时没有catch来捕获异常，因为此时根据应用场景，我们会抛出异常，自己不处理</div><div>2、try-catch-finally：自身需要处理异常，最终还得关闭资源</div><div>注意：finally不能单独使用</div><hr/><div>什么时候的代码必须最终执行：</div><div>但我们在try语句块中打开了一些物理资源（磁盘文件／网络连接／数据库连接等），我们都得在使用完之后，最终关闭打开的资源</div><div>当只有在try活着catch中调用推出JVM的相关方法，此时finally不能执行，否则finally永远会执行</div><div><font color="#0433ff">演示实验finally和不使用finally的区别：必须使用finally才能保证最终执行的代码</font></div><div>如果finally由return语句，永远返回finally中的结果，避免该情况</div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it._03_finally;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> FinallyDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//test1();</span><span style="font: 11.0px Monaco; color: #4e9072;">//</span><span style="font: 11.0px Monaco; color: #4e9072; text-decoration: underline;">int</span><span style="font: 11.0px Monaco; color: #4e9072;"/><span style="font: 11.0px Monaco; color: #4e9072; text-decoration: underline;">ret</span><span style="font: 11.0px Monaco; color: #4e9072;">=test2();</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">ret</span><span style="font: 11.0px Monaco;">=test3();</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">ret</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"> test3() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">=1;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">return</span><span style="font: 11.0px Monaco;"/></div><div><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">}</span><span style="font: 11.0px Monaco; color: #931a68;">finally</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco;">++</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//如果finally由return语句，永远返回finally中的结果，避免该情况</span><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">test2()</span><span style="font: 11.0px Monaco;"> {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">return</span><span style="font: 11.0px Monaco;"/></div><div><span style="font: 11.0px Monaco;">1;</span></div><div><span style="font: 11.0px Monaco;">}</span><span style="font: 11.0px Monaco; color: #931a68;">finally</span><span style="font: 11.0px Monaco; text-decoration: underline;">{</span></div><div><span style="font: 11.0px Monaco; color: #931a68; text-decoration: underline;">return</span><span style="font: 11.0px Monaco; text-decoration: underline;"/></div><div><span style="font: 11.0px Monaco; text-decoration: underline;">100;</span></div><div><span style="font: 11.0px Monaco; text-decoration: underline;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//讲解finally</span><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">test1()</span><span style="font: 11.0px Monaco;"> {</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"begin"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">ret</span><span style="font: 11.0px Monaco;">=10/0;</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"结果="</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">ret</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;">(ArithmeticException </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"除数为0"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span><span style="font: 11.0px Monaco; color: #931a68;">finally</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"关闭资源"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"ending"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><br/></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>使用try-catch捕获多个异常</h1>
  </td></tr>
</table>
<div>注意：</div><div>1、一个catch语句，只能捕获一种类型的遗产给，如果需要捕获多种异常，就得使用多个catch语句</div><div>2、代码在一瞬间只能出现一种类型的异常，只需要一个catch捕获，不可能同时出现多个异常</div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it._02_handle;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> MulticatchDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"begin"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">String </span><span style="font: 11.0px Monaco; color: #7e504f;">sNum1</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #3933ff;">"10"</span><span style="font: 11.0px Monaco;">;</span><span style="font: 11.0px Monaco; color: #4e9072;">//用户输入的被除数</span></div><div><span style="font: 11.0px Monaco;">String </span><span style="font: 11.0px Monaco; color: #7e504f;">sNum2</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #3933ff;">"0"</span><span style="font: 11.0px Monaco;">;</span><span style="font: 11.0px Monaco; color: #4e9072;">//用户输入的除数</span><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//把String转化为</span><span style="font: 11.0px Monaco; color: #4e9072; text-decoration: underline;">int</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">num1</span><span style="font: 11.0px Monaco;">=Integer.parseInt(</span><span style="font: 11.0px Monaco; color: #7e504f;">sNum1</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">num2</span><span style="font: 11.0px Monaco;">=Integer.parseInt(</span><span style="font: 11.0px Monaco; color: #7e504f;">sNum2</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"----------"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//两个整数相除</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">result</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #7e504f;">num1</span><span style="font: 11.0px Monaco;">/</span><span style="font: 11.0px Monaco; color: #7e504f;">num2</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"结果="</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">result</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"end"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;">(ArithmeticException </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"除数为0"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;">(NumberFormatException </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"类型转换异常"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;">(Exception </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"程序有错误"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"ending"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>获取和查看异常信息</h1>
  </td></tr>
</table>
<table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div/><h1>获取和查看异常信息</h1><div/></td></tr></tbody></table><div>获取异常信息，Throwable类的方法：</div><div>1、String getMessage()：获取异常的描述信息,原因（提示给用户的时候就提示这个）</div><div>2、String toString()：获取异常的类型和描述信息（不用）</div><div>3、void printStackTrace：打印异常的跟踪栈信息并输出到控制台（不需要使用System.out.println）</div><div>        包含了异常的类型，异常的原因，还包括异常出现的位置，在开发和调试阶段都得使用</div><div>    记住：现在在catch语句块中必须写e.printStackTrace，目的：为了查看异常的详细信息，便于调试<br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div/><h1>使用try-catch捕获单个异常</h1><div/></td></tr></tbody></table><div>如果出现异常，会立即终止程序，所以我们得处理异常：</div><div>1、该方法不处理，而是声明抛出，由该方法的调用者来处理（throws）</div><div>2、在方法中使用try-catch的语句块来处理异常</div><hr/><div>使用try-catch捕获单个异常,语法如下：</div><div><br/></div><div>try{</div><div>    <span style="color: rgb(255, 38, 0);">编写可能会出现异常的代码</span></div><div>}catch(异常类型 e){</div><div>    1、处理异常的代码</div><div>    2、记录日志</div><div>    3、打印异常信息</div><div>    4、继续抛出异常<br/></div><div>}</div><div><br/></div><div>注意：try和catch都不能单独使用</div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it._02_handle;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> SinggleCatchDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"begin....."</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">ret</span><span style="font: 11.0px Monaco;">=10/0;</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"结果="</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">ret</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;">(ArithmeticException </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"异常消息"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">.getMessage());</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"异常消息"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">.toString());</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">.printStackTrace();</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"出异常了"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"ending...."</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>异常体系</h1>
  </td></tr>
</table>
<div>针对于上述的没有异常机制的缺点，我们提出了解决方案</div><div>解决方案：</div><div>1、把不同类型的异常情况描述成不同的类（称之为异常类）</div><div>2、分离异常流程代码和正常流程代码</div><div>3、灵活处理遗产根，如果当前方法处理不了，应该交给调用者来解决</div><div><hr/>1、Error：表示错误，一般指JVM相关的不可修复的错误，如：系统崩溃，内存溢出，JVM错误等，由JVM抛出，我们不需要处理</div><div><span>    几乎所有的子类都是以Error作为类名的后缀</span><br/></div><div>2、Exception：表示异常，指程序中出现不正常的情况，<font color="#0433ff">该问题可以修复</font>（处理异常）</div><div><span>    几乎所有的子类都是以Exception作为类名的后缀</span><br/></div><div><span><hr/>出现异常不要紧张，把异常的类名拷贝至API中去查</span></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>没有异常处理机制的困惑</h1>
  </td></tr>
</table>
<div>什么是异常：非正常的，不同于平常的，不是语法错误</div><div>    程序中：在程序中，代码出现错误，程序就会终止运行</div><div>异常值的不是语法错误，语法错了，<span style="color: rgb(4, 51, 255);">编译不通过，不会产生字节码文件，根本不能运行</span></div><div><hr style="color: rgb(4, 51, 255);"/>没有异常机制存在的缺点：</div><div>1、使用方法的返回值来表示异常情况有限，无法穷举所有的异常情况</div><div>2、异常流程代码和正常流代码混合一起，增大了程序的复杂性，可读性也不好</div><div>3、随着系统的不断扩大，系统的可维护性极低</div></body></html>