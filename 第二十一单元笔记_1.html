<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.12.3 (455521)"/><meta name="author" content="923435274@qq.com"/><meta name="created" content="2017-10-14 02:36:05 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-10-16 07:18:27 +0000"/><title>第二十一单元笔记</title></head><body>


<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>IO流回顾</h1>
  </td></tr>
</table>
<div>IO流的总结和梳理：</div><div><br/></div><div><span style="color: rgb(255, 38, 0);"><b>文件流</b></span>：</div><div>FileInputStream</div><div>FileOutputStream</div><div>FileReader</div><div>FileWriter</div><div><br/></div><div><span style="color: rgb(255, 38, 0);"><b>缓冲流</b></span>：</div><div>BufferedInputStream</div><div>BufferedOutputStream</div><div>BufferedReader</div><div>BufferedWriter</div><div><br/></div><div><b>转换流（把字节转换为字符）</b>：</div><div>InputStreamReader</div><div>OutputStreamWriter</div><div><br/></div><div><b>内存流（临时存储数据）</b>：</div><div>ByteArrayInputStream</div><div>ByteArrayOutputStream</div><div>CharArrayReader</div><div>CharArrayWriter</div><div>StringReader</div><div>StringWriter</div><div><br/></div><div><b>顺序流（合并流）</b>：</div><div>SequenceInputStream</div><div><br/></div><div><b>对象流（序列化和反序列化）</b>：</div><div>ObjectInputStream</div><div>ObjectOutputStream</div><div><br/></div><div><b>打印流</b>：</div><div>PrintStream</div><div>PrintWriter</div><div><br/></div><div><b>数据流</b>：</div><div>DataInputStream</div><div>DataOutputStream</div><div><br/></div><div><b>管道流</b>：</div><div>PipedInputStream</div><div>PipedOutputStream</div><div>PipedReader</div><div>PipedWriiter</div><div><br/></div><div><b>四大基流</b>：</div><div>InputStream——OuputStream</div><div>Reader——Writer</div><div><hr/>File</div><div>FilenameFilter</div><div>RandomAccessFile</div><div>Files</div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>NIO概述</h1>
  </td></tr>
</table>
<div>NIO：new IO：</div><div>从JDK1.4开始出现的，新的IO，可以把一块磁盘文件映射到内存中，我们再去读取内存中的数据</div><div>存放在java.NIO包中</div><div><br/></div><div>java的NIO可以替代标准的java IO API</div><div>NIO主要运用于服务器中，对于写代码依然使用传统的IO就够了</div><div>在JDK1.7中提出了更新的IO,NIO2.0</div><div><hr/><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it.day03._09_nio;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.FileInputStream;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.FileOutputStream;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.nio.file.Files;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.nio.file.Paths;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> FIleCopyDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco;">Files.copy(Paths.get(</span><span style="font: 11.0px Monaco; color: #3933ff;">"file/stream.txt"</span><span style="font: 11.0px Monaco;">), </span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> FileOutputStream(</span><span style="font: 11.0px Monaco; color: #3933ff;">"xx.txt"</span><span style="font: 11.0px Monaco;">));</span></div><div><span style="font: 11.0px Monaco;">Files.copy(</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> FileInputStream(</span><span style="font: 11.0px Monaco; color: #3933ff;">"file/stream.txt"</span><span style="font: 11.0px Monaco;">) ,Paths.get(</span><span style="font: 11.0px Monaco; color: #3933ff;">"file/xx.txt"</span><span style="font: 11.0px Monaco;">));</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>管道流实现线程通信</h1>
  </td></tr>
</table>
<div>管道流：实现两个线程之间的数据交互</div><div>PipedInputStream</div><div>PipedOutputStream</div><div>PipedReader</div><div>PipedWriter</div><div><hr/><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it.day03._08_piped;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.IOException;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.PipedInputStream;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.PipedOutputStream;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//发送数据给B线程</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> AThread </span><span style="font: 11.0px Monaco; color: #931a68;">extends</span><span style="font: 11.0px Monaco;"> Thread {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"> PipedOutputStream </span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;"> = </span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> PipedOutputStream();</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"> PipedOutputStream getOut() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">return</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> run() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;"> {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> = 65; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> &lt; 65 + 26; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">++) {</span></div><div><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.write(</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.close();</span></div><div><span style="font: 11.0px Monaco;">} </span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;"> (Exception </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">.printStackTrace();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//B线程接受A线程发送的数据</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> BThread </span><span style="font: 11.0px Monaco; color: #931a68;">extends</span><span style="font: 11.0px Monaco;"> Thread {</span></div><div><span style="font: 11.0px Monaco;">PipedInputStream </span><span style="font: 11.0px Monaco; color: #0326cc;">in</span><span style="font: 11.0px Monaco;"> = </span><span style="font: 11.0px Monaco; color: #931a68;">null</span><span style="font: 11.0px Monaco;">;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"> BThread(AThread </span><span style="font: 11.0px Monaco; color: #7e504f;">aThread</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> IOException {</span></div><div><span style="font: 11.0px Monaco; color: #0326cc;">in</span><span style="font: 11.0px Monaco;"> = </span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> PipedInputStream(</span><span style="font: 11.0px Monaco; color: #7e504f;">aThread</span><span style="font: 11.0px Monaco;">.getOut());</span></div><div><br/></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> run() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">len</span><span style="font: 11.0px Monaco;">=-1;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;"> {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">while</span><span style="font: 11.0px Monaco;">((</span><span style="font: 11.0px Monaco; color: #7e504f;">len</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #0326cc;">in</span><span style="font: 11.0px Monaco;">.read())!=-1){</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println((</span><span style="font: 11.0px Monaco; color: #931a68;">char</span><span style="font: 11.0px Monaco;">)</span><span style="font: 11.0px Monaco; color: #7e504f;">len</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #0326cc;">in</span><span style="font: 11.0px Monaco;">.close();</span></div><div><span style="font: 11.0px Monaco;">} </span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;"> (IOException </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">.printStackTrace();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//管道流</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> PipedStreamDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco;">AThread </span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> AThread();</span></div><div><span style="font: 11.0px Monaco;">BThread </span><span style="font: 11.0px Monaco; color: #7e504f;">b</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> BThread(</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">.start();</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">b</span><span style="font: 11.0px Monaco;">.start();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/><span style="font: 11.0px Monaco;">}</span></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>随机访问文件</h1>
  </td></tr>
</table>
<div>随机访问文件：表示可以在该文件的任何位置写出和读取数据</div><div>RandomAccessFile经常用来做多线程断点下载</div><div><span>    1、多线程</span><br/></div><div><span><span>    2、断点下载</span><br/></span></div><div><hr/><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it.day03._07_randomaccessfile;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.File;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.RandomAccessFile;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//读写文件的任意位置</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> RandomAccessFileDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco;">File </span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> File(</span><span style="font: 11.0px Monaco; color: #3933ff;">"file/raf.txt"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//write(f);</span></div><div><span style="font: 11.0px Monaco;">read(</span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> read(File </span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco;">RandomAccessFile </span><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> RandomAccessFile(</span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"r"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"文件指针位置"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.getFilePointer());</span><span style="font: 11.0px Monaco; color: #4e9072;">//0</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">byte</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">b</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.readByte();</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">b</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"文件指针位置"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.getFilePointer());</span><span style="font: 11.0px Monaco; color: #4e9072;">//1</span></div><div><span style="font: 11.0px Monaco;">String </span><span style="font: 11.0px Monaco; color: #7e504f;">str</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.readUTF();</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">str</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"文件指针位置"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.getFilePointer());</span><span style="font: 11.0px Monaco; color: #4e9072;">//9</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.seek(0);</span><span style="font: 11.0px Monaco; color: #4e9072;">//设置文件指针为0</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"文件指针位置"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.getFilePointer());</span><span style="font: 11.0px Monaco; color: #4e9072;">//9</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.skipBytes(3);</span><span style="font: 11.0px Monaco; color: #4e9072;">//设置文件指针跳过12个字节</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"文件指针位置"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.getFilePointer());</span><span style="font: 11.0px Monaco; color: #4e9072;">//9</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.readInt();</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"文件指针位置"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.getFilePointer());</span><span style="font: 11.0px Monaco; color: #4e9072;">//13</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.close();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">write(File </span><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">f</span><span style="font: 11.0px Monaco; text-decoration: underline;">) </span><span style="font: 11.0px Monaco; color: #931a68; text-decoration: underline;">throws</span><span style="font: 11.0px Monaco; text-decoration: underline;"> Exception</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco;">RandomAccessFile </span><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> RandomAccessFile(</span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"rw"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.writeByte(65);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.writeUTF(</span><span style="font: 11.0px Monaco; color: #3933ff;">"龙哥"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.writeInt(17);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">raf</span><span style="font: 11.0px Monaco;">.close();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/><span style="font: 11.0px Monaco;">}</span></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>数据流</h1>
  </td></tr>
</table>
<div>数据流：提供了可以读/写任意数据类型的方法</div><div>DataOutputStream：提供了writeXxx（xxx value）方法</div><div>DataInputStream：提供了readerXxx（）方法</div><div><span>    注意：writeXxx与readerXxx必须对应起来，WriteByte写出的数据，此时只能使用readByte来读取回来</span><br/></div><div><span><hr/><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it.day03._06_data;</span></span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.DataInputStream;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.DataOutputStream;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.File;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.FileInputStream;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.FileOutputStream;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> DataStreamDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco;">File </span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> File(</span><span style="font: 11.0px Monaco; color: #3933ff;">"file/out.txt"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//write(f);</span></div><div><span style="font: 11.0px Monaco;">read(</span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> read(File </span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco;">DataInputStream </span><span style="font: 11.0px Monaco; color: #7e504f;">in</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> DataInputStream(</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> FileInputStream(</span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">));</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">in</span><span style="font: 11.0px Monaco;">.readByte());</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">in</span><span style="font: 11.0px Monaco;">.readChar());</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">in</span><span style="font: 11.0px Monaco;">.readUTF());</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">in</span><span style="font: 11.0px Monaco;">.close();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">write(File </span><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">f</span><span style="font: 11.0px Monaco; text-decoration: underline;">) </span><span style="font: 11.0px Monaco; color: #931a68; text-decoration: underline;">throws</span><span style="font: 11.0px Monaco; text-decoration: underline;"> Exception</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco;">DataOutputStream </span><span style="font: 11.0px Monaco; color: #7e504f;">out</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> DataOutputStream(</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> FileOutputStream(</span><span style="font: 11.0px Monaco; color: #3933ff;">"file/out.txt"</span><span style="font: 11.0px Monaco;">));</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">out</span><span style="font: 11.0px Monaco;">.writeByte(65);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">out</span><span style="font: 11.0px Monaco;">.writeChars(</span><span style="font: 11.0px Monaco; color: #3933ff;">"哥"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">out</span><span style="font: 11.0px Monaco;">.writeUTF(</span><span style="font: 11.0px Monaco; color: #3933ff;">"小马哥教育"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">out</span><span style="font: 11.0px Monaco;">.close();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span><br/></span><span style="font: 11.0px Monaco;">}</span></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>Properties加载资源文件</h1>
  </td></tr>
</table>
<div>资源文件（以.properties作为拓展名的文件）/属性文件</div><div>做项目开发为何使用配置文件</div><div><span>    把所有的数据存储在代码中，就写死了，“硬编码”</span><br/></div><div><span><span>    比如：在java中连接数据库，但是连接数据库必须要有数据库的账号和密码</span><br/></span></div><div><span><span><span>    此时我们就得在java代码中编写类似的代码</span></span></span></div><div><span><span><span><br/></span></span></span></div><div><span><span><span><span>    部署项目的是实施人员，为了安全操作，不能让其直接修改代码</span><br/></span></span></span></div><div><span><span><span><span><span>    此时我们专门为数据库提供一个配置文件，里面专门存储数据库连接相关的信息</span><br/></span></span></span></span></div><div><span><span><span><span><span><hr/>db.properties</span></span></span></span></span></div><div><span><span><span><span><span><hr/>key=value</span></span></span></span></span></div><div>username=root</div><div>password=admin</div><div>……..</div><div><hr/>现在数据库的连接信息在db.properties文件中，而java代码需要获取该文件中的信息</div><div><br/></div><div>java代码如何加载properties文件，如何获取该文件中的数据</div><div>必须使用Properties类（Hashtable的子类，Map接口的实现类）</div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>扫描器类</h1>
  </td></tr>
</table>
<div>Scanner类：扫描器类，表示输入操作</div><div><span>    存在两大组方法：xxx表示数据类型</span><br/></div><div><span><span>    <span>    boolean hasNextXxx();判断是否有下一中类型的数据</span></span><br/></span></div><div><span><span><span><span>    <span>    Xxx<span>    <span>    nextXxx()；获取下一个该类型的数据</span></span></span></span><br/></span></span></span></div><div><hr/><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it.day03._04_scanner;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">java.io.File</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.util.Scanner;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//扫描器类</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> ScannerDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//扫描文件中的数据</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//Scanner </span><span style="font: 11.0px Monaco; color: #4e9072; text-decoration: underline;">sc</span><span style="font: 11.0px Monaco; color: #4e9072;">=new Scanner(new File("file/stream.txt"),"UTF-8");</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//扫描键盘输入的数据</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//Scanner </span><span style="font: 11.0px Monaco; color: #4e9072; text-decoration: underline;">sc</span><span style="font: 11.0px Monaco; color: #4e9072;">=new Scanner(System.in);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//扫描字符串中的数据</span></div><div><span style="font: 11.0px Monaco;">Scanner </span><span style="font: 11.0px Monaco; color: #7e504f;">sc</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Scanner(</span><span style="font: 11.0px Monaco; color: #3933ff;">"你好帅啊,真的"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">while</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">sc</span><span style="font: 11.0px Monaco;">.hasNextLine()){</span></div><div><span style="font: 11.0px Monaco;">String </span><span style="font: 11.0px Monaco; color: #7e504f;">line</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #7e504f;">sc</span><span style="font: 11.0px Monaco;">.nextLine();</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"ECHO："</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">line</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">sc</span><span style="font: 11.0px Monaco;">.close();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/><span style="font: 11.0px Monaco;">}</span></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>标准IO概述和操作</h1>
  </td></tr>
</table>
<div>标准的IO：</div><div><span>    标准的输入：通过键盘录入数据给程序</span><br/></div><div><span><span>    标准的输出：再屏幕上显示程序数据</span><br/></span></div><div><span><span><hr/>在System类中有两个常量；in，out</span></span></div><div><span>    InputStream in=System.in;</span><br/></div><div><span><span>    PrintStream out=System.out;</span><br/></span></div><div><span><span><hr/>标准流的重定向操作：</span></span></div><div><span><span><span>    标准的输入：通过键盘录入给程序</span><br/></span></span></div><div><span><span><span><span>    <span>    <span>    <span>    重新指定输入的方向不再是键盘，而是一个文件</span></span></span></span><br/></span></span></span></div><div><span><span><span><span><span><span><span><span>    伺候System.in数据的来源就是通过setIn指定的源</span><br/></span></span></span></span></span></span></span></div><div>标准的输出：在屏幕上显示程序数据</div><div><span>    <span>    <span>    <span>    重新指定输出的目标不再是屏幕，而是</span></span></span></span><br/></div><div><span><span><span><span><hr/><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it.day03._03_standard;</span></span></span></span></span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.FileInputStream;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">java.io.FileOutputStream</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">java.io.PrintStream</span><span style="font: 11.0px Monaco;">;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//标准的IO操作</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> SystemIODemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//重定向标准输入流</span></div><div><span style="font: 11.0px Monaco;">System.setIn(</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> FileInputStream(</span><span style="font: 11.0px Monaco; color: #3933ff;">"file/stream.txt"</span><span style="font: 11.0px Monaco;">));</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//重定向到标准输出流</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//System.setOut(new PrintStream("file/xx.txt"));</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">".....begin"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">data</span><span style="font: 11.0px Monaco;">=System.</span><span style="font: 11.0px Monaco; color: #0326cc;">in</span><span style="font: 11.0px Monaco;">.read();</span><span style="font: 11.0px Monaco; color: #4e9072;">//接受键盘录入的一个字节</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">data</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">".....ending"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">err</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"xxx"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span><span><span><span><br/></span></span></span></span><span style="font: 11.0px Monaco;">}</span></div><div><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>打印流中的格式化输出（printf方法）</h1>
  </td></tr>
</table>
<div>System.out.println()：其实等价于PrintStream ps=System.out;          ps.println();</div><div><hr/><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it.day03._02_print;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//java的格式化输出</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> PrintfDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//打印一句话，效果风格：姓名：Will，年龄：17</span></div><div><span style="font: 11.0px Monaco;">String </span><span style="font: 11.0px Monaco; color: #7e504f;">name</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #3933ff;">"龙哥"</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">age</span><span style="font: 11.0px Monaco;">=18;</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//传统做法</span></div><div><span style="font: 11.0px Monaco;">String </span><span style="font: 11.0px Monaco; color: #7e504f;">str</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #3933ff;">"姓名:"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">name</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #3933ff;">",年龄:"</span><span style="font: 11.0px Monaco;">+17;</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">str</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//格式化输出</span></div><div><span style="font: 11.0px Monaco;">String </span><span style="font: 11.0px Monaco; color: #7e504f;">format</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #3933ff;">"姓名:%s,年龄:%d"</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">Object[] </span><span style="font: 11.0px Monaco; color: #7e504f;">data</span><span style="font: 11.0px Monaco;">={</span><span style="font: 11.0px Monaco; color: #3933ff;">"龙哥"</span><span style="font: 11.0px Monaco;">,17};</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.printf(</span><span style="font: 11.0px Monaco; color: #7e504f;">format</span><span style="font: 11.0px Monaco;">, </span><span style="font: 11.0px Monaco; color: #7e504f;">data</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println();</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//简化格式化输出</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.printf(</span><span style="font: 11.0px Monaco; color: #3933ff;">"姓名：%s,年龄：%d"</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"will"</span><span style="font: 11.0px Monaco;">,18);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/><span style="font: 11.0px Monaco;">}</span></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>打印流</h1>
  </td></tr>
</table>
<div>打印流：打印数据的，打印流只能输输出流：</div><div>printStream：字节打印流</div><div>printWriter：字符打印流</div><div>对于PrintWriter来说，当启用字段刷新之后</div><div>调用println活着printf活着format方法，便立马刷新操作</div><div>如果没有开启自动刷新，则需要手动刷新，或者当缓冲区满的时候自动刷新</div><div>使用打印流作为输出流，此时的输出操作会特别简单，因为在打印流中</div><div>    提供了print方法：打印时不换行</div><div>    提供了println方法：打印再换行</div><div>    print和println方法：可以支持打印/输出各种数据类型的数据类型</div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>序列化的细节和序列化的版本的问题</h1>
  </td></tr>
</table>
<div>1、如果某些数据不需要做序列化，比如密码，此时怎么办</div><div><span>    <span>    理论上说静态的字段和瞬态的字段是不能做序列化操作的</span></span><br/></div><div>2、序列化的版本问题：</div><div><span>    <span>    反序列化java对象时必须提供对象的class文件，现在问题是，随着项目的升级，系统的class文件也会升级，如何保证两个class文件的兼容性？java通过serialVersionUID（序列化版本号）来判断字节码是否发生改变</span></span><br/></div><div>如果不显示定义serialVersionUID类变量，该类变量的值由JVM根据类相关信息计算，而修改够的类的计算方式和之前往往不同</div><div>从而造成了对象反序列化因为版本不兼容而失败的问题</div><div><br/></div><div>解决方案：在类中提供一个固定的serialVersionUID</div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>对象流</h1>
  </td></tr>
</table>
<div>使用对象流来完成序列化和反序列化操作：</div><div>ObjectInputStream：通过writerObject方法做反序列化操作</div><div>ObjectOutputStream：通过readerObject方法做序列化操作</div><div><br/></div><div>做反序列化操作必须存在对象的字节码对象</div><div><hr/><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it.day03._01_object;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.File;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.FileInputStream;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.FileOutputStream;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.ObjectInputStream;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.io.ObjectOutputStream;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//使用对象流来实现序列化和反序列化</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> ObjectStreamDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco;">File </span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> File(</span><span style="font: 11.0px Monaco; color: #3933ff;">"file/obj.txt"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//writerObject(f);</span></div><div><span style="font: 11.0px Monaco;">readerObject(</span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//反序列化操作</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> readerObject(File </span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco;">ObjectInputStream </span><span style="font: 11.0px Monaco; color: #7e504f;">in</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> ObjectInputStream(</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> FileInputStream(</span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">));</span></div><div><span style="font: 11.0px Monaco;">User </span><span style="font: 11.0px Monaco; color: #7e504f;">user</span><span style="font: 11.0px Monaco;">=(User)</span><span style="font: 11.0px Monaco; color: #7e504f;">in</span><span style="font: 11.0px Monaco;">.readObject();</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">user</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">in</span><span style="font: 11.0px Monaco;">.close();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//序列化操作</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">writerObject(File </span><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">f</span><span style="font: 11.0px Monaco; text-decoration: underline;">) </span><span style="font: 11.0px Monaco; color: #931a68; text-decoration: underline;">throws</span><span style="font: 11.0px Monaco; text-decoration: underline;"> Exception</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco;">ObjectOutputStream </span><span style="font: 11.0px Monaco; color: #7e504f;">out</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> ObjectOutputStream(</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> FileOutputStream(</span><span style="font: 11.0px Monaco; color: #7e504f;">f</span><span style="font: 11.0px Monaco;">));</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">out</span><span style="font: 11.0px Monaco;">.writeObject(</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> User(</span><span style="font: 11.0px Monaco; color: #3933ff;">"Will"</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"1234"</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"17"</span><span style="font: 11.0px Monaco;">));</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">out</span><span style="font: 11.0px Monaco;">.close();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;"><hr/><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">package</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> com._520it.day03._01_object;</span></span></div><div><br style="font-family: Monaco; font-size: 11px;"/></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">import</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> java.io.Serializable;</span></div><div><br style="font-family: Monaco; font-size: 11px;"/></div><div><span style="font: 11.0px Monaco; color: #4e9072; font-family: Monaco; font-size: 11px;">//需要序列化的对象</span></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">public</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"/><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">class</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"/><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px; text-decoration: underline;">User</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"/><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">implements</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> Serializable{</span></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">private</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> String </span><span style="font: 11.0px Monaco; color: #0326cc; font-family: Monaco; font-size: 11px;">name</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">;</span></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">private</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> String </span><span style="font: 11.0px Monaco; color: #0326cc; font-family: Monaco; font-size: 11px;">password</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">;</span></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">private</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> String </span><span style="font: 11.0px Monaco; color: #0326cc; font-family: Monaco; font-size: 11px;">age</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">;</span></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">public</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> User(String </span><span style="font: 11.0px Monaco; color: #7e504f; font-family: Monaco; font-size: 11px;">name</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">, String </span><span style="font: 11.0px Monaco; color: #7e504f; font-family: Monaco; font-size: 11px;">password</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">, String </span><span style="font: 11.0px Monaco; color: #7e504f; font-family: Monaco; font-size: 11px;">age</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">super</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">();</span></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">this</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">.</span><span style="font: 11.0px Monaco; color: #0326cc; font-family: Monaco; font-size: 11px;">name</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> = </span><span style="font: 11.0px Monaco; color: #7e504f; font-family: Monaco; font-size: 11px;">name</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">;</span></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">this</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">.</span><span style="font: 11.0px Monaco; color: #0326cc; font-family: Monaco; font-size: 11px;">password</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> = </span><span style="font: 11.0px Monaco; color: #7e504f; font-family: Monaco; font-size: 11px;">password</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">;</span></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">this</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">.</span><span style="font: 11.0px Monaco; color: #0326cc; font-family: Monaco; font-size: 11px;">age</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> = </span><span style="font: 11.0px Monaco; color: #7e504f; font-family: Monaco; font-size: 11px;">age</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">;</span></div><div><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">public</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> String toString() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68; font-family: Monaco; font-size: 11px;">return</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"/><span style="font: 11.0px Monaco; color: #3933ff; font-family: Monaco; font-size: 11px;">"User [name="</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> + </span><span style="font: 11.0px Monaco; color: #0326cc; font-family: Monaco; font-size: 11px;">name</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> + </span><span style="font: 11.0px Monaco; color: #3933ff; font-family: Monaco; font-size: 11px;">", password="</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> + </span><span style="font: 11.0px Monaco; color: #0326cc; font-family: Monaco; font-size: 11px;">password</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> + </span><span style="font: 11.0px Monaco; color: #3933ff; font-family: Monaco; font-size: 11px;">", age="</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> + </span><span style="font: 11.0px Monaco; color: #0326cc; font-family: Monaco; font-size: 11px;">age</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;"> + </span><span style="font: 11.0px Monaco; color: #3933ff; font-family: Monaco; font-size: 11px;">"]"</span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">;</span></div><div><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">}</span></div><div><span style="font: 11.0px Monaco;"><br/></span><span style="font: 11.0px Monaco; font-family: Monaco; font-size: 11px;">}</span></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>序列化和反序列化</h1>
  </td></tr>
</table>
<div>序列化：指把堆内存中的对象数据，通过某种方式，把对象存储到磁盘文件中或者传递给其他网络的节点（再网络上传输）</div><div>              我们把这个过程称之为序列化</div><div>反序列化：把磁盘文件中的对象数据，活着把网络节点上的对象数据，恢复称java对象的过程</div><div><br/></div><div>为什么要做序列化：</div><div>             1、 在分布式系统中，需要共享数据的JavaBean对象都得做序列化，此时需要把对象在网络上传输，此时就得把对象数据转换为二进制形式</div><div>                  以后存储在HttpSession中的对象，都应该实现序列化接口，只有实现序列化接口的类，才能做序列化操作</div><div>             2、服务器钝化：如果服务器发现某些对象好久都没有活动了，此时服务器就会把这些内存中的对象持久化在本地磁盘文件中（Java对象——&gt;二进制文件）</div><div>                  如果发现某些对象需要活动的时候，先在内存中寻找，找到就使用，找不到再去磁盘文件中，反序列化我们的对象数据，回复称Java对象</div><div><br/></div><div><br/></div><div>需要做序列化的对象的类，必须实现序列化接口：java.io.Serializable接口（标志接口（没有抽象方法））底层会判断，如果当前对象市Serializable的实例，才允许做序列化</div><div><br/></div><div>在java中大多数类都已经实现Serializable接口</div><div><br/></div></body></html>