<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.12.3 (455521)"/><meta name="author" content="923435274@qq.com"/><meta name="created" content="2017-09-20 07:42:23 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-09-24 13:28:33 +0000"/><title>第十七单元笔记</title></head><body>


<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>泛型的擦除和转换</h1>
  </td></tr>
</table>
<div>泛型的擦除：</div><div><span>    </span>1、泛型编译之后就消失了（泛型的自动擦除）</div><div><span>    2、当把带有泛型的集合赋给不带泛型的集合，此时泛型被擦除（手动擦除）</span><br/></div><div><span><hr/>堆污染：</span></div><div><span><span>    当一个方法既使用泛型的时候也使用可变参数，此时容易导致堆污染问题</span><br/></span></div><div><span>    </span>如：在Arrays类中的asList方法</div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>泛型的通配符和上限以及下限</h1>
  </td></tr>
</table>
<div>泛型的通配符和上限和下限：</div><div><span><span>    </span>泛型的通配符：不知道使用什么类型来接收的时候，此时可以使用？，？表示位置，通配符</span><br/></div><div><span><span>    此时只能接受数据，不能存储数据</span></span></div><div><span><span><hr/>泛型的上限和下限：用来限定元素的类型必须是x类的子类或相同，x的父类或相同<a href="%E7%AC%AC%E5%8D%81%E4%B8%83%E5%8D%95%E5%85%83%E7%AC%94%E8%AE%B0.resources/GenericTypeDemo.java">GenericTypeDemo.java</a></span></span></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>定义和使用泛型方法</h1>
  </td></tr>
</table>
<div>泛型方法；在方法上申明泛型</div><div><span>    情况一：泛型类中的泛型只能适用于非静态方法，如果需要给静态方法设置泛型，此时使用泛型方法</span><br/></div><div><span><span>    情况二：泛型类中的泛型应该是用于整个类中多个方法，有时候只对某一个方法设置泛型即可</span><br/></span></div><div><span><span><hr/><span>    一般的，把自定义的泛型作为该方法的返回类型才有意义，而且此时的泛型必须是由参数设置进来的</span><br/></span></span></div><div><span><span><span><span>    如果没有参数来设置泛型的具体类型，此时的方法一般返回设计为Object即可</span><br/></span></span></span></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>定义和使用泛型类</h1>
  </td></tr>
</table>
<div>泛型（GenericType），从java5开始支持的新的语法：</div><div>    什么是泛型：</div><div>                1、广泛通用的类型</div><div>                2、代码模版中类型不确定，谁调用该段代码，谁指明类型是什么</div><div><hr/><div>泛型类：直接在类／接口上定义的泛型</div></div><div>    使用泛型：</div><div>            保证前后类型相同</div><div>            List&lt;String&gt; list=new ArrayList&lt;String&gt;();//该List结婚中只能存储String类型的元素</div><div>    因为前后类型相同，所以从java7开始，推出了泛型的菱形语法</div><div>            List&lt;String&gt; list=new ArrayList&lt;&gt;();</div><div>    泛型不存在继承的关系</div><div>    List&lt;Object&gt; list=new ArrayList&lt;String&gt;();</div><div>    从此以后使用集合都得使用泛型来约束该集合中的元素类型</div><div>    通过反编译，发现泛型其实也是语法糖，底层依然没有泛型，依然使用强转<a href="%E7%AC%AC%E5%8D%81%E4%B8%83%E5%8D%95%E5%85%83%E7%AC%94%E8%AE%B0.resources/PointDemo.java">PointDemo.java</a></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>为什么需要使用泛型</h1>
  </td></tr>
</table>
<div>为什要使用泛型：</div><div><span>    1、存储在集合中的元素，取出来都是Object类型的，此时就得强转</span><br/></div><div><span><span>    2、约束存储到集合汇总的元素必须时相同的类型（相同的数据类型才能做比较，比如TreeSet类）</span><br/></span></div><div><span><span><span>    3、设计一个点（point）类来封装坐标位置，要求坐标位置支持String类型，支持Integer类型，支持Double类型</span><br/></span></span></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>深入分析foreach迭代和迭代删除操作</h1>
  </td></tr>
</table>
<div>深入分析for-each的迭代器：</div><div>1、foreach可以操作数组：底层依然采用for循环+索引来获得数组元素</div><div>2、foreach可以操作Iterator实例：底层其实采用的是Iterator（迭代器）</div><div><hr/>当需要迭代集合元素边删除指定的元素时：此时只能使用迭代器</div><div><br/></div><div>当使用迭代器的时候，在当前线程A中，会单独创建一个新的线程B，</div><div>A线程负责继续迭代，B线程负责去删除</div><div>B线程每次都会去检查和A线程中的元素个数是否相同</div><div><hr/></div><div>在迭代集合的时候边迭代边删除时非常常用的操作：</div><div>如何解决并发修改异常呢？</div><div>    <font color="#ff2600">不要使用集合对象的删除方法</font><br/></div><div><span><span>    在Collection接口中存在删除指定元素的方法：boolean remove(Object ele)</span><br/></span></div><div><span><span><span>    该方法只能从集合中删除元素，不能把迭代器中指定的元素也删除</span><br/></span></span></div><div><span><span><span>    <font color="#ff2600">使用迭代器中的remove方法</font><br/></span></span></span></div><div><span><span><span><font color="#ff2600">    </font>该方法会从两个线程中同时删除迭代元素，消除了同步的影响<br/></span></span></span></div><div><font color="#ff2600"><hr/>当需要边迭代集合元素，边删除指定元素时：此时只能使用迭代器，而且只能使用迭代器对象的remove方法</font></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>集合的迭代操作</h1>
  </td></tr>
</table>
<div>定义：把集合中的元素一个一个的遍历取出来</div><div><hr/>迭代器对象：</div><div><span>    Iterator：迭代器对象，只能从上往下迭代</span><br/></div><div><span><span>    <span>    boolean hasNext();//判断当前指针后是否有下一个元素</span></span><br/></span></div><div><span>    <span>    Object next();//获取指针的下一个元素，并且移动指针</span></span></div><div><span><span>    ListIterator：是Iterator接口的子接口，支持双向迭代，可以从上往下迭代和从下往上迭代</span><br/></span></div><div><span><span><span>    Enumeration：古老的迭代器对象，现在已经被Iterator取代了，适用于古老的Vector类</span><br/></span></span></div><div><a href="%E7%AC%AC%E5%8D%81%E4%B8%83%E5%8D%95%E5%85%83%E7%AC%94%E8%AE%B0.resources/EnumerationDemo.java">EnumerationDemo.java</a></div><div><a href="%E7%AC%AC%E5%8D%81%E4%B8%83%E5%8D%95%E5%85%83%E7%AC%94%E8%AE%B0.resources/IteratorDemo.java">IteratorDemo.java</a></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>List实现类性能和特点分析</h1>
  </td></tr>
</table>
<div><br/></div><div>面向接口编程：</div><div><span>    接口类型 变量=new 实现类();</span><br/></div><div><span><span>    List list=new ArrayList();</span><br/></span></div><div><hr/></div><div>三者共同的特点：</div><div><span>    1、允许元素重复</span></div><div><span>    2、记录元素的先后添加顺序</span></div><div><hr/></div><div>Vector类：底层采用数组结构算法，方法都使用了synchronized修饰，线程安全，但是性能相对ArrayList较低</div><div>ArrayList类：底层采用数组结构算法，方法没有使用synchronized修饰，线程不安全，性能相对于Vector较高</div><div>ArrayList几乎已经取代了Vector</div><div><br/></div><div>LinkedList类：底层采用双向链表结构算法，方法没有使用synchronized修饰，线程不安全</div><div>数组结构算法和双向链表结构算法的性能问题：</div><div><span>    数组结构算法：插入和删除操作性能低，查询和更改较快</span><br/></div><div><span><span>    链表结构算法：插入和删除操作性能速度快，查询和更改较慢</span><br/></span></div><div><span><span><hr/>使用的选择：</span></span></div><div>Vector类打死不通，即使要用选ArrayList类</div><div>如果删除和插入操作频繁，英国选择LinkedList类</div><div>如果查询操作频繁，应该使用ArrayList类</div><div>在开发中使用ArrayList较多，根据具体的需求环境来做选择</div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>重构设计</h1>
  </td></tr>
</table>
<div>根据Vector类，ArrayList类，LinkedList类错具有的车unchurched特点以及拥有的方法入手，发现共性，往上提取和抽取</div><div>共同的特点：</div><div><span>    1、允许元素重复</span><br/></div><div><span><span>    2、会记录先后的添加顺序</span><br/></span></div><div>共同的方法</div><div><hr/>根据他们共同的特点，我就可以指定规范</div><div>遵循该规范的实现类，无论底层算法如何，都必须保证允许元素重复和保证添加先后顺序，我们给该规范起名为：List</div><div>在java中规范使用接口来表示</div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>LinkedList类的设计和操作</h1>
  </td></tr>
</table>
<div>LinkedList类是<span style="font-weight: bold;">双向链表，单向队列，双向队列，栈的实现类</span>：</div><div>    LinkedList类实现单向队列和双向队列的接口，自身提高了栈操作的方法，链表操作的方法</div><div>    </div><div>    在LinkedList类中存在很多方法，但是功能都是相同的，LinkedList表示了多种数据结构的实现，每一种数据结构的操作名字不同</div><div><hr/>面试题：编写一个双向链表</div><div><hr/><br/></div><div>LinkedList类是线程不安全的类，在多线程环境下所有线程保证安全</div><div><br/></div><div>无论是链表还是队列，都特别擅长操作头和尾的节点</div><div>在LinkedList中大多数方法都是xxFirst／xxLast的</div><div><hr/>在LinkedList中存在get(int index)方法，表示根据索引位置获取对应的元素</div><div>链表：没有索引的概念，本不应该有索引，但是从java2开始，存在了集合框架，让LinkedList作为了List接口的实现类，List中提供了根据索引查询元素的方法，LinkedList内部类提供了一个变量来当作索引</div><div>该方法要少用，因为LinkedList不擅长做查询操作，擅长做保存以及删除操作</div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>ArrayList类设计和操作</h1>
  </td></tr>
</table>
<div>ArrayList类是java集合框架出现之后用来取代Vector类的</div><div>二者底层的原理都是基于数组的算法，一摸一样</div><div><hr/></div><div>Vector：所有的方法都使用了Synchronized修饰符   线程安全，但是性能较低，适用于多线程环境</div><div>ArrayList：所有的方法都没有使用synchronized修饰符   线程不安全，但是性能较高</div><div><br/></div><div>即使以后在多线程环境下，我们也不使用Vector类：</div><div>    ArrayList list=Collections.synchronizedList(new ArrayList());</div><div><hr/><div>常用方法参照于Vector类</div></div><div><hr/><div>阅读源代码可以发现Vector和ArrayList的源代码差异有点大（从设计上考虑）</div></div><div>    有的时候某个方法需要返回一个ArrayList对象</div><div>        但是在该方法中，如果一个都没有查询到，我们不会反悔null，我们会返回一个空集对象</div><div>        public ArrayList getAll()</div><div>        {</div><div>                return Collections.emptyList();//最好的方式</div><div>                return new ArrayList();//但是很多人最直观，最简单选用的方式</div><div>        }</div><div>    在java7之前，使用new ArrayList创建对象，一个元素都不存储，但是在堆空间依然初始化了长度为10的Object数组，没必要</div><div>    从java7开始优化这个设计new ArrayList其实底层创建的是一个空数组</div><div><br/></div><div>    在第一次调用add方法的时候，才会重新去初始化数组</div><div><hr/><div>package com._520it.day01.list;</div></div><div><br/></div><div>import java.util.ArrayDeque;</div><div>import java.util.Stack;</div><div><br/></div><div>public class StackDemo {</div><div>    public static void main(String[] args) {</div><div>        Stack s1=new Stack();</div><div>        s1.push("C");</div><div>        s1.push("B");</div><div>        System.out.println(s1);</div><div>        System.out.println(s1.peek());</div><div>        s1.pop();</div><div>        System.out.println(s1.peek());</div><div>        </div><div>        System.out.println("-----------");</div><div>        </div><div>        ArrayDeque s2=new ArrayDeque();</div><div>        Stack s21=new Stack();</div><div>        s21.push("C");</div><div>        s21.push("B");</div><div>        System.out.println(s21);</div><div>        System.out.println(s21.peek());</div><div>        s21.pop();</div><div>        System.out.println(s21.peek());</div><div>    }</div><div>}</div><div><br/></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>Stack类的操作</h1>
  </td></tr>
</table>
<div>栈（Stack）：数据结构的一中，储存特点：Last In First Out，操作的是栈顶</div><div><span>    Stack类表示后进先出（LIFO）的对象栈</span><br/></div><div><span><span>    栈结构在生活中的体现：</span><br/></span></div><div><span><span><span>    <span>    1、QQ消息，A，B，C三个人先后发送消息，我们查看的时候发现最顶上的是最新消息</span></span><br/></span></span></div><div><span><span><span><span><span>    <span>    2、手枪弹夹的装和发射</span></span><br/></span></span></span></span></div><div><span><span><span><span><span><span><span>    要来实现栈的存储，底层可以使用数组来存储，也可以使用链表来存储</span><br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><hr/>官方建议使用栈尽量使用ArrayDeque</span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><hr/><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it.day01.list;</span></span></span></span></span></span></span></span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.util.ArrayDeque;</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.util.Stack;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> StackDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; text-decoration: underline;">Stack</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">s1</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">Stack</span><span style="font: 11.0px Monaco;">();</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">s1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.push(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"C"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">s1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.push(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"B"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">s1</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">s1</span><span style="font: 11.0px Monaco;">.peek());</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">s1</span><span style="font: 11.0px Monaco;">.pop();</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">s1</span><span style="font: 11.0px Monaco;">.peek());</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"-----------"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; text-decoration: underline;">ArrayDeque</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">s2</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">ArrayDeque</span><span style="font: 11.0px Monaco;">();</span></div><div><span style="font: 11.0px Monaco; text-decoration: underline;">Stack</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">s21</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">Stack</span><span style="font: 11.0px Monaco;">();</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">s21</span><span style="font: 11.0px Monaco; text-decoration: underline;">.push(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"C"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">s21</span><span style="font: 11.0px Monaco; text-decoration: underline;">.push(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"B"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">s21</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">s21</span><span style="font: 11.0px Monaco;">.peek());</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">s21</span><span style="font: 11.0px Monaco;">.pop();</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">s21</span><span style="font: 11.0px Monaco;">.peek());</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span><span style="font: 11.0px Monaco;">}</span></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>Vector类的操作方法</h1>
  </td></tr>
</table>
<div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it.day01.list;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">import</span><span style="font: 11.0px Monaco;"> java.util.Vector;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> VectorMethodDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//test_add();</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//test_remove();</span></div><div><span style="font: 11.0px Monaco;">test_update();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> test_update() {</span></div><div><span style="font: 11.0px Monaco; text-decoration: underline;">Vector</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">v1</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">Vector</span><span style="font: 11.0px Monaco;">();</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"A"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"B"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"C"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">v1</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.set(1, </span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"Will"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">v1</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">test_remove()</span><span style="font: 11.0px Monaco;"> {</span></div><div><span style="font: 11.0px Monaco; text-decoration: underline;">Vector</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">v1</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">Vector</span><span style="font: 11.0px Monaco;">();</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"A"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"B"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"C"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"B"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">v1</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//v1.remove(0);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">v1</span><span style="font: 11.0px Monaco;">.remove(</span><span style="font: 11.0px Monaco; color: #3933ff;">"B"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">v1</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">test_add()</span><span style="font: 11.0px Monaco;">{</span></div><div><span style="font: 11.0px Monaco; text-decoration: underline;">Vector</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">v1</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">Vector</span><span style="font: 11.0px Monaco;">();</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"A"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"B"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"C"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(1)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(3)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//System.out.println(v1);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//v1.add(0,"Will");</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">v1</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; text-decoration: underline;">Vector</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; color: #7e504f;">v2</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"/><span style="font: 11.0px Monaco; text-decoration: underline;">Vector</span><span style="font: 11.0px Monaco;">();</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v2</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(1)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v2</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(2)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v2</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(3)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v2</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"A"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v2</span><span style="font: 11.0px Monaco; text-decoration: underline;">.add(</span><span style="font: 11.0px Monaco; color: #3933ff; text-decoration: underline;">"D"</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//v1.add(v2);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.addAll(</span><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v2</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">v1</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//v1.removeAll(v2);</span></div><div><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v1</span><span style="font: 11.0px Monaco; text-decoration: underline;">.retainAll(</span><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">v2</span><span style="font: 11.0px Monaco; text-decoration: underline;">)</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #7e504f;">v1</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>Vector类存储原理</h1>
  </td></tr>
</table>
<div>Vector类存储原理：</div><div>   通过源码分析，发现在Vector类中有一个Object[]类型数组</div><div>    1、表面上把数据存储到Vector对象中，其实底层依然是把数据存储到Object数组中的</div><div>    2、我们发现该数组的元素类型是Object类型，意味着集合中只能存储任意类型的对象</div><div>          集合中只能存储对象，不能存储基本数据类型的值</div><div>          在java5之前必须对基本数据类型手动装箱，Integer.valueOf(int a)</div><div>          从java5开始支持自动装箱操作</div><div>    3、集合类中的对象存储的对象，都<font color="#ff2600">存储的是对象的引用，而不是对象本身</font></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>Vector类设计原理</h1>
  </td></tr>
</table>
<div>在jdk2之前（在java的集合框架之前），要存储多个数据，此时存在一个叫Vector类</div><div>Vector类底层其实就是一个Object数组，Vector类中的方法是支持同步的（加了synchronized修饰符）</div><div><hr/>Vector设计原理：查看源代码</div><div><br/></div><div><br/></div>

<table bgcolor="#D4DDE5" border="0" width="100%">
  <tr><td>
    <h1>概述</h1>
  </td></tr>
</table>
<div>什么是集合框架：</div><div>集合框架是为表示和操作集合而规定的一种同一个的标准体系结构，任何集合框架都包含三大块内容：对外的借口，接口的实现和对集合运算的算法</div><div>为什么存在容器类：容器类（集合累）可以存储多个数据，既然数组可以储存多个数据，为什么需要定义容器类</div><div><br/></div><div><span>    <span>    数组的弊端：</span></span><br/></div><div><span><span><span>    <span>    <span>    <span>    1、长度是不可变的，一旦数组初始化后，长度是固定的</span></span></span></span><br/></span></span></div><div><span><span><span><span><span><span><span>    <span>    <span>    <span>    2、在N个地方需要存储多个数据，都得专门去编写数组的操作方法，如此一来没有体现<span>    <span>    <span>    <span>    <span>    <span>    <span>    <span>    <span>    </span></span></span></span></span></span></span></span></span>DRY原则，代码和功能重复———&gt;封装思想</span></span></span></span><br/></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span>    <span>    <span>    <span>    3、即使每一个人都要使用数组类，但是不同的人定义的类名和方法名是不同的，实现细节也是参差不齐的，sun公司就自己定义好了容器类，每一个开发者只管调用即可</span></span></span></span><br/></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div>在集合框架中：拿来注意</div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><hr/>为什么要用集合框架（把集合框架的类核接口都放在java.uitl包中）：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    1、提供功能的复用</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    2、让程序猿专注于业务开发，而不是数据结构和算法</span><br/></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><hr/>常用的框架接口规范：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span><span>    集合中存储的对象，称之为集合元素</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div>常用的集合类：</div><div><span>    Set（集）：集合中的对象不按特定方式排序，不允许元素重复</span><br/></div><div><span><span>    LIst（列表）：集合中的元素按照索引位置排序，允许元素重复</span><br/></span></div><div><span><span><span>    Map（映射）：集合中每个元素都包含一对key和value对象，不允许key对象重复，值对象可以重复</span></span></span></div><div><span><span><span><hr/><img src="%E7%AC%AC%E5%8D%81%E4%B8%83%E5%8D%95%E5%85%83%E7%AC%94%E8%AE%B0.resources/timg.jpeg" height="265" width="477"/><br/></span></span></span></div></body></html>