<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.12.3 (455521)"/><meta name="author" content="923435274@qq.com"/><meta name="created" content="2017-08-29 00:28:36 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-09-09 06:34:53 +0000"/><title>第十四单元笔记</title></head><body><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>线程同步-同步锁（lock）</h1><div  /></td></tr></tbody></table><div>同步锁（Lock）：</div><div>    Lock机制提供了比synchronized代码块和synchronized</div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>线程同步-单例模式-懒加载同步</h1><div  /></td></tr></tbody></table><div>上述代码使用同步方法，已经解决了懒汉式的线程安全问题</div><div>但是synchronized的作用域太大了，损耗性能———&gt;尽量减少synchronized的作用域</div><div>解决方案：使用双重检查锁机制</div><hr/><div>双重检查加锁：</div><div>可以既实现线程安全，又能够使性能不受很大影响</div><div>所谓“双重检查加锁”机制，指的是：并不是每次进入getInstance方法都需要实现同步，而是先不同步，进入方法后，先检查实例是否存在，如果不存在才进行下面的同步块，这是第一宠检查，进入同步块过后，再次检查实例是否存在，如果不存在，就在同步的情况下创建一个实例，这是第二重检查，这样一来，就只需要一次同步了，从而减少了多次在同步情况下进行判断所浪费的时间</div><div><br/></div><div>“双重检查加锁”治治的实现会使用关键字volatile，他的意思是：被volatile修饰的变量的值，将不会被本地线程缓存，所有对该变量的读写都是直接操作共享内存，从而确保多个线程能正确的处理该变量都是直接操作共享内存，从而保证多个线程能正确处理该变量</div><div><br/></div><div>注：在java1.4及以前版本中，很多JVM对于volatile关键字的实现的问题，会导致“双重检查锁”的失败，因此“双重检查加锁”机制只能用在java5及以上的版本</div><div>提示：由于volatile关键字可能会屏蔽掉虚拟机中一些必要的代码优化，所以运行效率不是很高，因此一般建议，没有特别的需要，不要使用，也就是说，虽然可以使用“双重检查加锁”机制来实现线程安全的单例，但是并不建议大量使用，可以根据情况来选用</div><hr/><div>推荐使用：饿汉式写法，简单，安全，粗暴</div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it_day01_05_synchronized;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;" /><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> ArrayUtill2 {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;"> ArrayUtill2(){};</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco;" /><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco;" /><span style="font: 11.0px Monaco; color: #931a68;">volatile</span><span style="font: 11.0px Monaco;"> ArrayUtill2 </span><span style="font: 11.0px Monaco; color: #0326cc;">instance</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">null</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//同步方法:此时的同步箭头对象是（ArrayUtill2.class）</span><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"> ArrayUtill2 getInstance(){</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">if</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #0326cc;">instance</span><span style="font: 11.0px Monaco;">==</span><span style="font: 11.0px Monaco; color: #931a68;">null</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">synchronized</span><span style="font: 11.0px Monaco;">(ArrayUtill2.</span><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">if</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #0326cc;">instance</span><span style="font: 11.0px Monaco;">==</span><span style="font: 11.0px Monaco; color: #931a68;">null</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco; color: #0326cc;">instance</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> ArrayUtill2();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">return</span><span style="font: 11.0px Monaco;" /><span style="font: 11.0px Monaco; color: #0326cc;">instance</span><span style="font: 11.0px Monaco;">;</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;" /><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> sort(</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco;">[] </span><span style="font: 11.0px Monaco; color: #7e504f;">arr</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//</span><span style="font: 11.0px Monaco; color: #91afcb;">TODO</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>synchronized的好坏</h1><div  /></td></tr></tbody></table><div>好处：保证了多线程在并发访问的时候的同步操作，避免线程的安全性问题</div><div>缺点：使用synchronized的方法／代码块的性能比不用的低一些</div><div>建议：尽量减小synchronized的作用域</div><hr/><div>面试题：</div><div>    1、StringBuilder和StringBuffer</div><div>    2、说说ArrayList和Vector的区别，HasMap和Hashtable的区别</div><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>线程同步-同步方法</h1><div  /></td></tr></tbody></table><div>使用synchronized修饰的方法，就叫做同步方法，保证A线程执行该方法的时候，其他线程只能在方法外等</div><div><br/></div><div>synchronized public void doWork(){</div><div><br/></div><div>}</div><div>同步锁是谁：</div><div>    对于非static方法，同步锁就是this</div><div>    对于static方法，我们使用当前方法所在类的字节码对象（Apple2.class）</div><hr/><div>不要使用synchronized修饰run方法，因为修饰之后，某一个线程就执行完了所有的功能，好比是多个线程出现串行</div><div>解决方案：把需要同步操作的代码定义在一个新的方法中，并且该方法使用synchronized修饰，再在run方法中调用该方法中就可以</div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it_day01_05_synchronized;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> Apple2 </span><span style="font: 11.0px Monaco; color: #931a68;">implements</span><span style="font: 11.0px Monaco;"> Runnable {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;"> = 50;</span><span style="font: 11.0px Monaco; color: #4e9072;">//苹果总数</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> run() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">=0;</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">&lt;50;</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">++){</span></div><div><span style="font: 11.0px Monaco;">eat();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">synchronized</span><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> eat() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">if</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;"> &gt; 0)</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(Thread.currentThread().getName() + </span><span style="font: 11.0px Monaco; color: #3933ff;">"吃了编号为"</span><span style="font: 11.0px Monaco;"> + </span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;">-- + </span><span style="font: 11.0px Monaco; color: #3933ff;">"的苹果"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;"> {</span></div><div><span style="font: 11.0px Monaco;">Thread.sleep(10);</span></div><div><span style="font: 11.0px Monaco;">} </span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;"> (InterruptedException </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">.printStackTrace();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> SynchronizedMethodDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco;">Apple2 </span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;"> = </span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Apple2();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Thread(</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">, </span><span style="font: 11.0px Monaco; color: #3933ff;">"A"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Thread(</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">, </span><span style="font: 11.0px Monaco; color: #3933ff;">"B"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Thread(</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">, </span><span style="font: 11.0px Monaco; color: #3933ff;">"C"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>线程同步-同步代码块</h1><div  /></td></tr></tbody></table><div>同步代码块：</div><div>语法:</div><div>synchronized（同步监听对象）</div><div>{</div><div>    需要同步的代码</div><div>}</div><hr/><div>同步锁：</div><div>为了保证每个线程都可以正常执行原子操作，java引入了线程同步机制</div><div>同步监听对象／同步锁／同步监听器／互斥锁</div><div>java程序运行使用任何对象作为同步监听对象，但是一般的，我们试验当前并发访问的共同资源作为同步监听对象</div><div>注意：在任何时候，最多一个线程拥有同步锁，谁拿到锁，就进入代码块，其他的线程只能在外等着里面的线程出来。</div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it_day01_05_synchronized;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> Apple1 </span><span style="font: 11.0px Monaco; color: #931a68;">implements</span><span style="font: 11.0px Monaco;"> Runnable {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;"> = 50;</span><span style="font: 11.0px Monaco; color: #4e9072;">//苹果总数</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> run() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> = 0; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> &lt; 50;</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">++) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">try</span><span style="font: 11.0px Monaco;"> {</span></div><div><span style="font: 11.0px Monaco;">Thread.sleep(10);</span></div><div><span style="font: 11.0px Monaco;">} </span><span style="font: 11.0px Monaco; color: #931a68;">catch</span><span style="font: 11.0px Monaco;"> (InterruptedException </span><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">e</span><span style="font: 11.0px Monaco;">.printStackTrace();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">synchronized</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #931a68;">this</span><span style="font: 11.0px Monaco;">){</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">if</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;"> &gt; 0)</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(Thread.currentThread().getName()+</span><span style="font: 11.0px Monaco; color: #3933ff;">"吃了编号为"</span><span style="font: 11.0px Monaco;"> + </span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;">-- + </span><span style="font: 11.0px Monaco; color: #3933ff;">"的苹果"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//同步代码块：</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> SynchronizedBlockDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco;">Apple1 </span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Apple1();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Thread(</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"A"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Thread(</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"B"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Thread(</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"C"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>线程不安全问题分析</h1><div  /></td></tr></tbody></table><div>当多线程并发访问同一个资源对象的时候，可能出现线程不安全的问题</div><div>    看不到问题可能是经验不够，问题出现的不够明显</div><div>    Thread.sleep(10);//当前线程睡10毫秒，当前线程休息，让其他线程去抢资源，经常用来模拟网络延迟</div><hr/><div>在线程的run方法上不能使用throws来抛出异常，只能在方法中使用try-catch来处理异常</div><div>原因是：子类覆盖父类方法的原则，子类不能抛出新的异常</div><div>    在Runnable接口中的run方法都没有声明throws抛出</div><hr/><div>在程序中并不是使用Thread.sleep()之后才出现问题，而是使用之后问题更明显</div><div>要解决上述多线程并发访问同意个资源的安全性问题：</div><div>解决方案：保证打印苹果编号和苹果总数减1必须同步完成</div><div>                   A线程进入操作的时候，B和C线程只能在外面等着，A操作结束，B和C才能进入</div><hr/><div>方式一：同步代码块</div><div>方式二：同步方法</div><div>方式三：锁机制（Lock）</div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>分析继承方式和实现方式的区别</h1><div  /></td></tr></tbody></table><div>继承方式：</div><div>                1、java中类是单继承的，如果继承了Thread类，该类就不能再有其他直接父类了</div><div>                2、从操作上分析，继承方式更简单，获取线程名字也简单</div><div>                3、从多线程共享同一个资源上分析，继承方式不能做到</div><div>实现方式：</div><div>                1、java中可以多实现接口，此时该类还可以继承其他类，并且还可以实现其他接口，设计上更优雅</div><div>                2、从操作上分析，实现方式稍微复杂点，获取线程名字也比较复杂，得使用                            Thread.currentThread().getName()</div><div>                3、从多线程共享同一个资源上分析，实现方式不能做到</div><div><br/></div><div>总结：在这里完成三个同学抢苹果的例子使用实现方式才合理</div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>吃苹果比赛-案例分析</h1><div  /></td></tr></tbody></table><div>案例：存在50个苹果，现在请三个同学（小A，小B，小C）上台来吃苹果</div><div>因为ABC三个人可以同时吃苹果，此时得使用多线程技术来实现这个案例</div><hr/><div>分析：可以定义三个线程对象并启动线程</div><div>    每一个同学吃苹果的时候，要先展示自己拿到手上苹果的编号，如1，2，3，36</div><div>                                               再吃掉苹果（意味着苹果总数少了一个）</div><hr/><div>方式一：可以使用继承Thread方式来实现</div><div>        问题：使用继承方式实现的时候，ABC都吃了50个苹果</div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it_day01_04_extends_vs_implements;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//每一个同学是线程对象</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> Person </span><span style="font: 11.0px Monaco; color: #931a68;">extends</span><span style="font: 11.0px Monaco;"> Thread {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;"> = 50;</span><span style="font: 11.0px Monaco; color: #4e9072;">//苹果总数</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco;"> Person(String </span><span style="font: 11.0px Monaco; color: #7e504f;">name</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">super</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">name</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> run() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> = 0; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> &lt; 50; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">++) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">if</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;"> &gt; 0)</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #931a68;">super</span><span style="font: 11.0px Monaco;">.getName() + </span><span style="font: 11.0px Monaco; color: #3933ff;">"吃了编号为"</span><span style="font: 11.0px Monaco;"> + </span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;">-- + </span><span style="font: 11.0px Monaco; color: #3933ff;">"的苹果"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//使用extends方式来实现三个同学吃50个苹果的比赛</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> ExctendsDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//创建三个线程</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Person(</span><span style="font: 11.0px Monaco; color: #3933ff;">"A"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Person(</span><span style="font: 11.0px Monaco; color: #3933ff;">"B"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Person(</span><span style="font: 11.0px Monaco; color: #3933ff;">"C"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><hr/><div>方式二：可以实现Runnable方式来实现</div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it_day01_04_extends_vs_implements;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> Apple </span><span style="font: 11.0px Monaco; color: #931a68;">implements</span><span style="font: 11.0px Monaco;"> Runnable {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">private</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;"> = 50;</span><span style="font: 11.0px Monaco; color: #4e9072;">//苹果总数</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> run() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> = 0; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> &lt; 50; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">++) {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">if</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;"> &gt; 0)</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(Thread.currentThread().getName()+</span><span style="font: 11.0px Monaco; color: #3933ff;">"吃了编号为"</span><span style="font: 11.0px Monaco;"> + </span><span style="font: 11.0px Monaco; color: #0326cc;">num</span><span style="font: 11.0px Monaco;">-- + </span><span style="font: 11.0px Monaco; color: #3933ff;">"的苹果"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//使用实现implements实现</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> ImplementsDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco;">Apple </span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Apple();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Thread(</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"A"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Thread(</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"B"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Thread(</span><span style="font: 11.0px Monaco; color: #7e504f;">a</span><span style="font: 11.0px Monaco;">,</span><span style="font: 11.0px Monaco; color: #3933ff;">"C"</span><span style="font: 11.0px Monaco;">).start();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>使用匿名内部类创建并启动线程</h1><div  /></td></tr></tbody></table><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it_day01_03_thread_create;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//使用匿名内部类创建并启动线程</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> AnonymousInnerClassDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//主线程运行游戏</span><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">=0;</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">&lt;50;</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">++){</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"打游戏"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">if</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">==10){</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//创建线程对象，并启动线程</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Thread(</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Runnable(){</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> run() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> = 0; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> &lt; 50; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">++) {</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"播放电影"</span><span style="font: 11.0px Monaco;"> + </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}).start();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>使用继承方式创建并启动线程</h1><div  /></td></tr></tbody></table><div>传统有两种方式：</div><div>方式一：继承Thread类</div><div>方式二：实现Runable接口</div><hr/><div>线程类（java.lang.Thread）：Thread的子类才能称之为线程类</div><div>主线程就是主方法</div><hr/><div>方式一：继承Thread类</div><div>1、定义一个类A让A继承于java.lang.Thread类</div><div>2、在A类中覆盖Thread类中的run方法</div><div>3、我们在run方法中编写需要执行的操作（线程执行体，run方法里面的代码）</div><div>4、在main方法（线程）中创建线程对象，并启动线程</div><div>    创建线程：A类 a=new A类();</div><div>    调用线程对象的strat方法，a.start();表示启动一个线程</div><div><br/></div><div>注意：千万不要调用run方法，如果调用run方法好比是对象调用方法，依然还是只有一个线程，并没有开启新的线程</div><hr/><div>方式二：实现Runnable接口</div><div>1、定义一个类A实现于java.lang.Runnable，注意A类不是线程类</div><div>2、在A类中覆盖Runnable接口中的run方法</div><div>3、在run方法中编写需要执行的操作（线程执行体，run方法里面的代码）</div><div>4、在main方法中，创建线程对象，并启动线程</div><div>    创建线程类对象：Thread t=new Thread(new A());</div><div>    调用线程对象的start方法：t.start();</div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it_day01_03_thread_create;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//音乐类</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> MusicThread </span><span style="font: 11.0px Monaco; color: #931a68;">extends</span><span style="font: 11.0px Monaco;"> java.lang.Thread{</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> run() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">=0;</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">&lt;50;</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">++){</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"播放音乐"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//方法一：继承Thread类</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> ExtendsTreadDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//主线程运行游戏</span><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">=0;</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">&lt;50;</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">++){</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"打游戏"</span><span style="font: 11.0px Monaco;">+</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">if</span><span style="font: 11.0px Monaco;">(</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">==10){</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//创建线程对象，并启动线程</span></div><div><span style="font: 11.0px Monaco;">MusicThread </span><span style="font: 11.0px Monaco; color: #7e504f;">t</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> MusicThread();</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">t</span><span style="font: 11.0px Monaco;">.start();</span><span style="font: 11.0px Monaco; color: #4e9072;">//启动线程</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it_day01_03_thread_create;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//播放音乐的类</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> MusicRunableImpl </span><span style="font: 11.0px Monaco; color: #931a68;">implements</span><span style="font: 11.0px Monaco;"> java.lang.Runnable {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> run() {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> = 0; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> &lt; 50; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">++) {</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"播放音乐"</span><span style="font: 11.0px Monaco;"> + </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//实现</span><span style="font: 11.0px Monaco; color: #4e9072; text-decoration: underline;">Runable</span><span style="font: 11.0px Monaco; color: #4e9072;">接口</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> ImplementsRunableDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) {</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//主线程运行游戏</span><span style="font: 11.0px Monaco; color: #931a68;">for</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #931a68;">int</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> = 0; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> &lt; 50; </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">++) {</span></div><div><span style="font: 11.0px Monaco;">System.</span><span style="font: 11.0px Monaco; color: #0326cc;">out</span><span style="font: 11.0px Monaco;">.println(</span><span style="font: 11.0px Monaco; color: #3933ff;">"打游戏"</span><span style="font: 11.0px Monaco;"> + </span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">if</span><span style="font: 11.0px Monaco;"> (</span><span style="font: 11.0px Monaco; color: #7e504f;">i</span><span style="font: 11.0px Monaco;"> == 10) {</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//创建线程对象，并启动线程</span></div><div><span style="font: 11.0px Monaco;">Thread </span><span style="font: 11.0px Monaco; color: #7e504f;">t</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> Thread(</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> MusicRunableImpl());</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">t</span><span style="font: 11.0px Monaco;">.start();</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>创建进程程操作</h1><div  /></td></tr></tbody></table><div>java操作进程：</div><div>    在java代码中如何去运行一个进程（简单讲解，获取进程中的数据（IO））</div><div>方式一：使用Runtime类的exec方法</div><hr/><div><span style="font: 11.0px Monaco; color: #931a68;">package</span><span style="font: 11.0px Monaco;"> com._520it_day01_02_Process;</span></div><div><br/></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//在java中如何开启一个进程，运行系统的记事本程序</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">class</span><span style="font: 11.0px Monaco;"> ProcessDemo {</span></div><div><span style="font: 11.0px Monaco; color: #931a68;">public</span><span style="font: 11.0px Monaco; color: #931a68;">static</span><span style="font: 11.0px Monaco; color: #931a68;">void</span><span style="font: 11.0px Monaco;"> main(String[] </span><span style="font: 11.0px Monaco; color: #7e504f;">args</span><span style="font: 11.0px Monaco;">) </span><span style="font: 11.0px Monaco; color: #931a68;">throws</span><span style="font: 11.0px Monaco;"> Exception{</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//方式一：使用Runtime类的</span><span style="font: 11.0px Monaco; color: #4e9072; text-decoration: underline;">exec</span><span style="font: 11.0px Monaco; color: #4e9072;">方法</span></div><div><span style="font: 11.0px Monaco;">Runtime </span><span style="font: 11.0px Monaco; color: #7e504f;">runtime</span><span style="font: 11.0px Monaco;">=Runtime.getRuntime();</span></div><div><span style="font: 11.0px Monaco; color: #7e504f;">runtime</span><span style="font: 11.0px Monaco;">.exec(</span><span style="font: 11.0px Monaco; color: #3933ff;">"notepad"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco; color: #4e9072;">//方式二：ProccessBuilder的</span><span style="font: 11.0px Monaco; color: #4e9072; text-decoration: underline;">strat</span><span style="font: 11.0px Monaco; color: #4e9072;">方法</span></div><div><span style="font: 11.0px Monaco;">ProcessBuilder </span><span style="font: 11.0px Monaco; color: #7e504f; text-decoration: underline;">pd</span><span style="font: 11.0px Monaco;">=</span><span style="font: 11.0px Monaco; color: #931a68;">new</span><span style="font: 11.0px Monaco;"> ProcessBuilder(</span><span style="font: 11.0px Monaco; color: #3933ff;">"notepad"</span><span style="font: 11.0px Monaco;">);</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><span style="font: 11.0px Monaco;">}</span></div><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>多线程的优势</h1><div  /></td></tr></tbody></table><div>多线程优势：</div><div>多线程作为一种多任务并发的工作方法，当然有其优势：</div><div>1、进程之间不能共享内昆，二线程之间共享呃逆村（堆内存），则很简单</div><div>2、系统创建进程时需要为该进程重新分配系统资源，创建线程则代价小很多，因此在实现多任务并发时，多线程效率更高</div><div>3、java语言本身内置多线程功能的支持，而不是单纯的作为底层系统的调度方式，从而简化了多线程编程</div><hr/><div>多线程下载：可以理解为一个线程就是一个文件的下载通道，多线程也就是同时开启好几个下载通道，党服务器提供下载服务时，使用下载者时共享带宽的，在优先级相同的情况下，总服务器会对总下载线程进行平均分配</div><div>不难理解，如果你线程多的话，那下载的越快，现流行的下载软件都支持多线程</div><div>多线程时为了同步完成多任务，不是为了提供程序运行小笼包，而是通过提高资源使用效率来提高系统的效率，所以现在大家买电脑的时候，也应该看看cpu的线程数</div><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>理解线程和进程</h1><div  /></td></tr></tbody></table><div>进程：指一个内存中运行的应用程序，每个进程都有自己独立的一块内存空间，不同的进程的内存空间是不一样的，一个应用程序可以运行多个进程，</div><div>线程：进程中的一个执行任务（控制单元），一个进程可以并发运行多个线程（一个进程至少要有一个线程）</div><div><br/></div><div>多任务系统：该系统可以运行多个进程，一个进程可以执行多个任务，一个进程可以包含多个线程</div><div>多进程：操作系统中同时运行的多个程序</div><div>多线程：一个进程中同时运行的多个任务</div><div>进程与线程的区别：</div><div>进程：有独立的内存空间，进程中的数据存放空间（堆空间和栈空间）是独立的，至少有一个线程</div><div>线程：堆空间是共享的，栈空间是独立的，线程消耗的资源也比进程小，相互之间可以影响，又称为轻型进程或进程元</div><div>因为一个进程中的多个线程是并发运行的，那么从围观角度上考虑也是有先后顺序的，那么那个线程执行完全取决于cpu的调度器（JVM来调度），程序员是控制不了的</div><div>我们可以把多线程并发性看作是多个线程在瞬间抢cpu资源，谁抢到谁就运行，这也就造就了多线程的随机性</div><div>java程序（一个在操作系统的java程序）的进程里至少包含住线程和垃圾回收栈（后台线程）</div><hr/><div>线程调度：计算机通常只有一个cpu时，在任意时刻只能执行一条计算机指令，每一个进程只有获得cpu的使用权才能执行指令，所谓多进程并发运行，从宏观上看，其实是各个进程轮流获得cpu的使用权，分别执行各自的任务</div><div>那么在可运行池中，会有多个线程处于线程就绪状态等到cpu，jvm就负责了线程的调度</div><div>JVM采用的是抢占式调度，可以能造成多线程执行结果的随机性</div><div><br/></div><table bgcolor="#D4DDE5" border="0" width="100%"><tbody><tr><td><div    /><h1>并行和并发</h1><div  /></td></tr></tbody></table><div>引子：程序在没有程序控制的前提下，代码都是从上而下执行的</div><div>需求：现在需要设计一个程序想要完成边听歌边运行游戏的功能，怎么设计？</div><hr/><div>并行和并发有相似也有区别（微观概念）：</div><div>并行：指两个或多个事件在同一个时刻发生</div><div>并发：指两个和多个事件在同一个时间段发生</div><div>宏观上A事件和B事件同时发生</div><div>注意：在cpu中，每一时刻只能有一个程序在运行（时间片）</div><div>            如果计算机系统中有多个cpu，则这些可以并发执行的程序可悲分配到多个处理器上，实现多任务并行执行</div><div>            单核处理器的计算机是不能并行处理多个人任务的，只能是多个任务在单个cpu上并发运行</div><hr/><div>时间片：cpu分配给各个程序的运行时间（很小的概念）</div><div><br/></div></body></html>